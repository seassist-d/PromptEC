# 要件定義書

## 1. 背景・目的

AI活用が拡大する中、個人や企業が「プロンプト」を売買できるプラットフォームの需要が高まっている。  
ユーザー（出品者）は自作のプロンプトを販売し、購入者は効率的に業務や創作に活用できる。  
本プロジェクトでは、AI SDKを活用してプロンプトの登録・検索・購入・ダウンロードを可能にするECサイトを構築する。  
さらにAI SDKを利用し、プレビュー機能やレコメンド機能の強化を実現する。  

---

## 2. 利用者

- **出品者**: プロンプトを販売したい個人/法人  
- **購入者**: プロンプトを購入したい個人/法人  
- **管理者**: サイト全体を運営・監視する運営者  

---

## 3. 機能要件

### 3.1 ユーザー管理
- 新規登録（メール認証、Google、Microsoft、Apple、電話番号の外部連携も可）  
- ログイン／ログアウト  
- プロフィール編集（ユーザー名、アイコン、お問い合わせ先情報、自己紹介、支払情報）  

### 3.2 プロンプト出品機能
- プロンプト登録（サムネ、タイトル、カテゴリー、タグ付け、価格設定、説明文、出力例）  
- プロンプトファイル／テキスト登録  
- 【保留】プレビュー機能（購入前に冒頭数行を表示など → 将来的にAI SDKで実装）  
- 出品の編集・削除  

### 3.3 プロンプト購入機能
- プロンプトの検索・フィルタリング（キーワード、カテゴリ、価格帯、人気順）  
- プロンプトの詳細ページ閲覧  
- カート機能、購入手続き（決済）  
- 購入履歴管理（購入時点の物の無制限の再ダウンロード可）  

### 3.4 決済機能
- クレジットカード決済（American Express, Dinors, JCB, Mastercard, VISA）  
- PayPal  
- PayPay  
- 売上の出品者への還元（80%、決済手数料（3〜4%）は運営負担）  
- 売上管理（出品者が売上を確認できる画面）  

### 3.5 管理者機能
- ユーザー管理（凍結、BAN、アカウント削除）  
- プロンプト管理（削除、審査機能）  
- 売上レポート（全体、出品者別、期間別）  
- 決済処理の監視  
- 出品物が規約違反（他人の著作権侵害など）の場合、運営が削除できる  
- 「出力例」については、サンプル生成文にAI利用規約違反が含まれないかをチェックする  

### 3.6 レビュー・評価機能
- 星評価(1~5)、コメント  
- 運営が削除できる権限  

---

## 4. 非機能要件

- **セキュリティ**: SSL/TLS、パスワード暗号化、決済情報の安全管理  
- **パフォーマンス**: 想定する同時接続数（例：200人程度）、想定する月間利用者数（例：3千UU程度）対応可能  
- **拡張性**: 将来的に「サブスクプラン」「ランキング表示」を追加可能  
- **多言語対応**: 初期は日本語、将来的に英語展開を視野  
- **バックアップ**: 1日1回、障害発生時は最大24時間以内に復旧可能  

---

## 5. システム構成（想定）

- **フロントエンド**: React / Next.js  
- **バックエンド**: Node.js / Express  
- **データベース**: Supabase / PostgreSQL  
- **認証基盤**: Supabase / Auth0  
- **決済**: American Express, Dinors, JCB, Mastercard, VISA, PayPal, PayPay  
- **ホスティング**: Vercel  
- **AI SDK**:  
  - OpenAI SDK / Google AI SDK / その他マルチモデル対応  
  - 用途: プロンプトプレビュー生成、出力例チェック、自動タグ付け、レコメンド機能強化  

---

## 6. 想定する拡張機能

- サブスクリプション（月額制で特定プロンプト使い放題）  
- プロンプト自動プレビュー（例：ChatGPTやGemini APIでのテスト機能 → AI SDK活用）  
- レコメンド機能（購入履歴や閲覧履歴に基づいた提案 → AI SDK活用）  
