-- =============================================
-- Google認証トリガー無効化スクリプト
-- =============================================

-- 既存のトリガーを安全に削除
DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;

-- プロフィール自動作成関数も削除（必要に応じて後で再作成）
DROP FUNCTION IF EXISTS create_profile_for_new_user();

-- 注意: このスクリプトを実行後、Google認証で新規ユーザーが作成されても
-- プロフィールは自動作成されません。
-- 認証コールバックでユーザー作成日時ベースの判定を行うため、
-- プロフィールの存在に依存しない判定ロジックに変更されています。
